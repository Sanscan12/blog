(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{415:function(t,a,s){"use strict";s.r(a);var n=s(4),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"springapplication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#springapplication"}},[t._v("#")]),t._v(" SpringApplication")]),t._v(" "),a("h3",{attrs:{id:"自定义banner"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义banner"}},[t._v("#")]),t._v(" 自定义Banner")]),t._v(" "),a("p",[t._v("Banner启动时会出现一个SpringBoot Logo , 该Logo配置是可进行修改的")]),t._v(" "),a("p",[a("strong",[t._v("操作步骤 :")])]),t._v(" "),a("ol",[a("li",[t._v("配置文件新增 "),a("code",[t._v("spring.banner.location=classpath:banner.txt")])]),t._v(" "),a("li",[t._v("在资源根路径新建 "),a("code",[t._v("banner.txt")]),t._v(" (内容自行编辑)")])]),t._v(" "),a("p",[t._v("在线生成Banner : "),a("a",{attrs:{href:"https://www.bootschool.net/ascii",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.bootschool.net/ascii"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"自定义application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义application"}},[t._v("#")]),t._v(" 自定义Application")]),t._v(" "),a("p",[t._v("Application在运行前是需要加载本身配置的但我们可以自行修改配置")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@SpringBootApplication")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 主程序配置")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringBootFeaturesApplication")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//SpringApplication.run(SpringBootFeaturesApplication.class, args);")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringApplication")]),t._v(" application "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringApplication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringBootFeaturesApplication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 关闭 Banner打印 , 等同于 spring.main.banner-mode=off 配置")]),t._v("\n        application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBannerMode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Banner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OFF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("ul",[a("li",[t._v("配置优先级 : 配置文件 > 程序运行配置")])])]),t._v(" "),a("h2",{attrs:{id:"profiles"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#profiles"}},[t._v("#")]),t._v(" ProFiles")]),t._v(" "),a("p",[t._v("环境隔离的能力 , 实现快速切换 测试/生产 环境")]),t._v(" "),a("p",[a("strong",[t._v("操作步骤 :")])]),t._v(" "),a("ol",[a("li",[t._v("标识环境 , 通过 "),a("code",[t._v("@Profile")]),t._v(" 激活")]),t._v(" "),a("li",[t._v("激活环境 , 指定环境生效")])]),t._v(" "),a("h3",{attrs:{id:"标识环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#标识环境"}},[t._v("#")]),t._v(" 标识环境")]),t._v(" "),a("p",[t._v("通过 "),a("code",[t._v("@Profile")]),t._v("注解 进行标识环境 , 可以激活在 类/方法 上")]),t._v(" "),a("p",[t._v("一般情况下采用 : dev(开发环境)/test(测试环境)/prod(生产环境)/default(默认环境)")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Profile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dog")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Profile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Dog在跑"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Dog 类加载完成"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"激活环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#激活环境"}},[t._v("#")]),t._v(" 激活环境")]),t._v(" "),a("p",[t._v("实现切换环境的主要部分 , 指定激活环境的名称即可 , 支持多环境指定激活")]),t._v(" "),a("p",[a("strong",[t._v("激活方式 :")])]),t._v(" "),a("ul",[a("li",[t._v("配置文件激活 : "),a("code",[t._v("spring.profiles.active=dev,test")])]),t._v(" "),a("li",[t._v("命令行激活 : "),a("code",[t._v("java -jar xxx.jar --spring.profiles.active=dev")])]),t._v(" "),a("li",[t._v("环境分组激活 : 组合使用如下")]),t._v(" "),a("li",[t._v("配置文件环境追加 : "),a("code",[t._v("spring.profiles.include")])])]),t._v(" "),a("p",[a("strong",[t._v("分组激活")])]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.active")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("hehe")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.group.haha")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("dev")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.group.hehe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("dev,test")]),t._v("\n")])])]),a("p",[a("strong",[t._v("环境追加")])]),t._v(" "),a("p",[t._v("支持数组区分追加")]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("dev")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.include[0]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("test")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.include[1]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("common")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.include[2]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("local")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.include[3]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("db")]),t._v("\n")])])]),a("p",[a("strong",[t._v("实战场景")])]),t._v(" "),a("p",[t._v("生效的环境 = 激活的环境/默认环境 + 追加环境")]),t._v(" "),a("p",[t._v("一般情况下 :")]),t._v(" "),a("ul",[a("li",[t._v("追加环境 : "),a("em",[t._v("mybatis")]),t._v(" , "),a("em",[t._v("log")])]),t._v(" "),a("li",[t._v("激活环境 : "),a("em",[t._v("db")]),t._v(" , "),a("em",[t._v("redis")])])]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.active")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("db,redis")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 追加")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("prod")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.group.prod[0]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("mybatis")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.group.prod[1]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("log")]),t._v("\n")])])]),a("h3",{attrs:{id:"配置环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置环境"}},[t._v("#")]),t._v(" 配置环境")]),t._v(" "),a("p",[t._v("通过ProFile实现不同环境的配置文件生效")]),t._v(" "),a("p",[t._v("主配置文件 "),a("code",[t._v("application.properties")])]),t._v(" "),a("p",[t._v("标识配置文件 "),a("code",[t._v("application-{profile标识}.properties")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("profile标识的配置文件不能再次使用 , "),a("code",[t._v("spring.profiles.active")]),t._v(" 激活其他配置文件")])]),t._v(" "),a("p",[t._v("主配置加载 标识配置文件")]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("server.port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("8088")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.profiles.active")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("dev")]),t._v("\n")])])]),a("p",[t._v("标识配置文件 "),a("code",[t._v("application-dev.properties")])]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 生效dev环境 相关的配置 (覆盖主配置 8088配置)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("server.port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("9000")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("ul",[a("li",[t._v("主配置 和 指定的配置文件 都会生效")]),t._v(" "),a("li",[t._v("主配置 和 指定的配置文件 配置项冲突 , 那么 主配置项会被覆盖 配置项")])])]),t._v(" "),a("h2",{attrs:{id:"外部化配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外部化配置"}},[t._v("#")]),t._v(" 外部化配置")]),t._v(" "),a("p",[t._v("上线应用的jar包 , 需要更改相关配置 , 可直接外部引用配置文件")]),t._v(" "),a("p",[t._v("一般情况下 : SpringBoot内部配置 + 外部文件配置 (外部覆盖内容 配置项)")]),t._v(" "),a("h3",{attrs:{id:"配置优先级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置优先级"}},[t._v("#")]),t._v(" 配置优先级")]),t._v(" "),a("p",[t._v("SpringBoot配置的方式有很多种 , 如: Properties/Yaml/命令行/... , 他们的优先级都是有明确的划分")]),t._v(" "),a("p",[a("strong",[t._v("优先级顺序 : (数值越大越高)")])]),t._v(" "),a("ol",[a("li",[t._v("默认属性配置 (在启动前通过实例对象进行修改配置对象)")]),t._v(" "),a("li",[a("code",[t._v("@PropertySource")]),t._v("注解 加载指定配置文件 (写在 "),a("code",[t._v("@Configuration")]),t._v("注解 的类上才会生效)")]),t._v(" "),a("li",[t._v("主配置文件")]),t._v(" "),a("li",[t._v("profile配置文件 (前提需要主配置 配置项激活)")]),t._v(" "),a("li",[a("code",[t._v("/config")]),t._v("目录下的 主配置文件")]),t._v(" "),a("li",[a("code",[t._v("/config")]),t._v("目录下的 profile配置文件 (前提需要激活)")]),t._v(" "),a("li",[t._v("jar包外的 主配置文件 (与jar包同级目录)")]),t._v(" "),a("li",[t._v("jar包外的 "),a("code",[t._v("/config")]),t._v("目录下的 主配置文件")]),t._v(" "),a("li",[t._v("jar包外的 "),a("code",[t._v("/config")]),t._v("目录下的 profile配置文件 (前提需要激活)")]),t._v(" "),a("li",[t._v("命令行")])]),t._v(" "),a("blockquote",[a("p",[t._v("还有很多配置方式 , 不过是比较冷门的使用方式 , 就略过了")])]),t._v(" "),a("p",[a("strong",[t._v("记忆规律")])]),t._v(" "),a("ul",[a("li",[t._v("命令行 > 所有")]),t._v(" "),a("li",[t._v("外包 > 内保")]),t._v(" "),a("li",[t._v("config目录 > 根目录")]),t._v(" "),a("li",[t._v("profile > application")])]),t._v(" "),a("p",[t._v("优先级小的一方被覆盖相同配置项中的值")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://image.bozhu12.cc/myblog/SpringBoot/SpringBoot01.png",alt:"image-20230608203847029"}})]),t._v(" "),a("h3",{attrs:{id:"导入配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入配置"}},[t._v("#")]),t._v(" 导入配置")]),t._v(" "),a("p",[t._v("外部引入的配置 通过 "),a("code",[t._v("spring.config.import")]),t._v(" 导入额外配置")]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("spring.config.import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("classpath:/my.properties")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("导入配置文件的优先级 与 "),a("code",[t._v("@PropertySource")]),t._v("注解 同等存在")])]),t._v(" "),a("h3",{attrs:{id:"属性占位符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性占位符"}},[t._v("#")]),t._v(" 属性占位符")]),t._v(" "),a("p",[t._v("配置文件中 配置项的值是可以使用的 , 通过 "),a("code",[t._v("${name:default}")]),t._v("形式取出配置过的值")]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("my")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("bohzu")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# greeting=How are you? # 如果greeting配置项不存在 , 则 hello 替代")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("my.value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("call Me ${my}!${greeting:hello!}")]),t._v("\n")])])]),a("h2",{attrs:{id:"单元测试-junit5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单元测试-junit5"}},[t._v("#")]),t._v(" 单元测试-JUnit5")]),t._v(" "),a("p",[t._v("单元测试相比大伙都比较熟悉 , 但 JUnit5 有个有趣的新特性参数化测试 , 将来会便利代码测试!")]),t._v(" "),a("p",[t._v("官方文档 : "),a("a",{attrs:{href:"https://junit.org/junit5/docs/current/user-guide/#writing-tests-annotations",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://junit.org/junit5/docs/current/user-guide/#writing-tests-annotations"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"参数化测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数化测试"}},[t._v("#")]),t._v(" 参数化测试")]),t._v(" "),a("p",[t._v("利用 注解指定传入的数据 , 将其数据放入参数多次执行单元测试 , 减少代码测试运行次数")]),t._v(" "),a("p",[a("strong",[t._v("涉及注解有 :")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("@ParameterizedTest")]),t._v("注解 : 标识参数化测试")]),t._v(" "),a("li",[a("code",[t._v("@ValueSource")]),t._v("注解 : 指定来源参数 (支持八大基础类型)")]),t._v(" "),a("li",[a("code",[t._v("@MethodSource")]),t._v("注解 : 读取的方法返回Stream作为参数填充 (读取的方法一定要是静态方法)")]),t._v(" "),a("li",[a("code",[t._v("@NullSource")]),t._v("注解 : 表示为参数化测试提供一个null的入参")]),t._v(" "),a("li",[a("code",[t._v("@EnumSource")]),t._v("注解 : 表示为参数化测试提供一个枚举入参")]),t._v(" "),a("li",[a("code",[t._v("@CsvFileSource")]),t._v("注解 : 表示读取指定CSV文件内容作为参数化测试入参")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ParameterizedTest")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ValueSource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("strings "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ls"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ww"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("valueTest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ParameterizedTest")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@MethodSource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"method"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("methodTest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Stream")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Stream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);